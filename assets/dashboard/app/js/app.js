(function(t){function a(a){for(var r,n,s=a[0],l=a[1],c=a[2],d=0,u=[];d<s.length;d++)n=s[d],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);p&&p(a);while(u.length)u.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],r=!0,s=1;s<e.length;s++){var l=e[s];0!==o[l]&&(r=!1)}r&&(i.splice(a--,1),t=n(n.s=e[0]))}return t}var r={},o={app:0},i=[];function n(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=r,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)n.d(e,r,function(a){return t[a]}.bind(null,r));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=a,s=s.slice();for(var c=0;c<s.length;c++)a(s[c]);var p=l;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"024c":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"totalInHistory"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},"04c3":function(t,a,e){"use strict";e("4462")},"0efd":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"top5_ec_by_anno"}},"transform":[{"joinaggregate":[{"field":"denominazioneec","op":"min","as":"name"}],"groupby":["codicefiscaleec"]}],"facet":{"row":{"field":"name","sort":{"field":"-total"}}},"spec":{"width":"container","layer":[{"mark":{"type":"bar"},"encoding":{"x":{"field":"total","type":"quantitative","axis":{"format":"~s"}},"y":{"field":"anno","axis":null,"stack":false},"color":{"field":"anno"}}},{"transform":[{"calculate":"datum.name","as":"Ente creditore"},{"calculate":"format(datum.total, \',d\')","as":"total_format"},{"pivot":"anno","value":"total_format","groupby":["Ente creditore"],"op":"min"}],"mark":{"type":"bar","fill":"transparent","tooltip":{"content":"data"}}}]}}')},"15ea":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.transactions2020[0].importo / 100 ","as":"e2020"}],"mark":"text","encoding":{"text":{"field":"e2020","format":"$,d"}}}')},2761:function(t){t.exports=JSON.parse('{"padding":0,"view":{"stroke":null},"arc":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"area":{"fill":"#0066CC"},"axis":{"domainColor":"#cbcbcb","grid":true,"gridColor":"#cbcbcb","gridWidth":1,"labelColor":"#19191a","labelFont":"inherit","labelFontSize":10,"titleColor":"#19191a","tickColor":"#cbcbcb","tickSize":10,"titleFont":"inherit","titlePadding":10,"labelPadding":4},"axisBand":{"grid":false},"background":"transparent","legend":{"labelColor":"#19191a","labelFont":"inherit","labelFontSize":12,"symbolSize":180,"titleColor":"#19191a","titleFont":"inherit","titleFontSize":14,"titlePadding":10},"line":{"stroke":"#0066CC","strokeWidth":2},"header":{"labelFont":"inherit","titleFont":"inherit","labelFontSize":12},"path":{"stroke":"#0066CC","strokeWidth":0.5},"rect":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"range":{"category":["#0BD9D3","#15c5f8","#0066CC","#2d489d","#00264D"],"diverging":["#43ecee","#b947ff"],"heatmap":["#9ff5f2","#0066CC","#fd338b"]},"point":{"filled":true,"shape":"circle"},"shape":{"stroke":"#0066CC"},"text":{"font":"inherit"},"bar":{"binSpacing":2,"fill":"#0066CC","stroke":null},"title":{"anchor":"start","font":"inherit","subtitleFont":"inherit","fontSize":24,"fontWeight":600,"offset":20},"selection":{"highlight":{"type":"single","empty":"none","on":"mouseover"},"select":{"type":"multi"}}}')},3907:function(t,a,e){"use strict";e("75f9")},"3aeb":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"transactions2021[0].total"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},"3d68":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","height":"container","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"pspByAnno"}},"transform":[{"joinaggregate":[{"op":"sum","field":"total","as":"sum"}]},{"calculate":"datum.total / datum.sum","as":"perc"}],"mark":{"type":"arc","tooltip":true},"encoding":{"theta":{"field":"total","type":"quantitative","aggregate":"sum"},"color":{"field":"PSP","sort":"order","legend":{"orient":"right"}},"order":{"field":"total","sort":"descending","aggregate":"sum"},"tooltip":[{"field":"PSP","title":"PSP"},{"field":"total","format":",d","aggregate":"sum","title":"Numero transazioni"},{"field":"perc","title":"su totale top 5","aggregate":"sum","format":".3p"}]}}')},"3ed1":function(t,a,e){},"3eed":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","height":"container","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"top5_ec"}},"transform":[{"joinaggregate":[{"op":"sum","field":"total","as":"sum"}]},{"calculate":"datum.total / datum.sum","as":"perc"}],"mark":{"type":"arc","tooltip":true},"encoding":{"theta":{"field":"total","type":"quantitative"},"color":{"field":"denominazioneec","sort":"order","legend":{"orient":"right"}},"order":{"field":"total","sort":"descending"},"tooltip":[{"field":"denominazioneec","title":"Ente creditore"},{"field":"total","format":",d","title":"Numero transazioni"},{"field":"perc","title":"su totale top 5","format":".3p"}]}}')},4462:function(t,a,e){},"49e5":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.transactions2021[0].importo / 100 ","as":"e2021"}],"mark":"text","encoding":{"text":{"field":"e2021","format":"$,d"}}}')},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("3ec5"),e("f5ef");var r=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Home")],1)},i=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("KpiSection"),e("TrxSection"),e("TopSection")],1)},s=[],l=e("1157"),c=e.n(l),p=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("section",{staticClass:"analogue-2-bg shadow px-3 pt-3"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Totale transazioni "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni gestite da pagoPA dal 2016."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.tTotalKpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Valore totale transato "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Euro transati da pagoPA dal 2016."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.eTotalKpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 col-xl-4 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Transazioni 2019 "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni ed euro gestiti da pagoPA nell'anno 2019."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.t2019KpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.e2019KpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 col-xl-4 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Transazioni 2020 "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni ed euro gestiti da pagoPA nell'anno 2020."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.t2020KpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.e2020KpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 col-xl-4 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Transazioni 2021 "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni ed euro gestiti da pagoPA nell'anno 2021."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.t2021KpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.e2021KpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 mb-3 order-xl-last"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Previsioni 2021 "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Stima del totale transazioni e controvalore economico a fine anno."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.tPredKpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.ePredKpiSpec}})],1)],1),r("div",{staticClass:"col-xl-6 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Tasso di crescita transazioni "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Confronto rispetto allo stesso periodo dell'anno precedente."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.growthKpiSpec}})],1)],1)])])},d=[],u=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card card-bg h-100 no-after",class:t.cardClass},[e("div",{staticClass:"card-body"},[t._t("default")],2)])},m=[],f={name:"CardWrapper",props:["cardClass"]},h=f,g=e("2877"),b=Object(g["a"])(h,u,m,!1,null,null,null),v=b.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[t._v(t._s(t.text))])},C=[],x=(e("96cf"),e("1da1")),S=e("5530"),j=e("e1a1"),_=e("5e9b"),k=e("2a83"),z=e("89c5"),O=e("87e7"),w=e("75d9"),P=e("5961"),W=e("2761"),K={},$=Object(j["loader"])(),N=$.http;$.http=function(t,a){return null==K[t]&&(K[t]=N.call(this,t,a)),K[t]},O["b"].expressionInterpreter=_["a"],Object(j["formatLocale"])(w),Object(j["timeFormatLocale"])(P);var T={actions:!1,config:Object(S["a"])(Object(S["a"])({},W),{},{header:Object(S["a"])(Object(S["a"])({},W.header),{},{title:null,labelOrient:"top",labelAnchor:"start",labelPadding:5}),axis:Object(S["a"])(Object(S["a"])({},W.axis),{},{title:null,tickCount:4}),legend:Object(S["a"])(Object(S["a"])({},W.legend),{},{title:null,orient:"top",labelLimit:0,layout:{right:{anchor:"middle"},top:{anchor:"middle"}}})}),loader:$,renderer:"svg",ast:!0},A=T;function J(t,a,e){if(t[a]==e)return t;if(null!=t.items){var r,o=null;for(r=0;null==o&&r<t.items.length;r++)o=J(t.items[r],a,e);return o}return null}function B(t){if(null==t.$schema)return{};var a=Object(z["a"])(t.$schema),e=a.library,r="vega-lite"===e?Object(k["compile"])(t).spec:t;return r}function E(t){var a=B(t);return new j["View"](Object(j["parse"])(a,void 0,{ast:!0}),Object(S["a"])(Object(S["a"])({},A),{},{expr:_["a"],renderer:"none"})).runAsync().then((function(t){var a=t.scenegraph();return a}))}function M(t,a,e){return E(t).then((function(t){return J(t.root,a,e)}))}function F(t){return M(t,"role","mark").then((function(t){return null!=t?t.items:[]}))}var D={name:"KpiWrapper",props:["spec"],data:function(){return{text:"#"}},mounted:function(){var t=this;return Object(x["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,F(t.spec);case 2:e=a.sent,t.text=e[0].text;case 4:case"end":return a.stop()}}),a)})))()}},q=D,U=Object(g["a"])(q,y,C,!1,null,null,null),H=U.exports,I=e("bebc"),L=e("d9c6"),R=e("15ea"),V=e("49e5"),G=e("ebc0"),Y=e("d0b5"),Q=e("024c"),X=e("57d1"),Z=e("d72e"),tt=e("3aeb"),at=e("c8ea"),et={name:"KpiSection",components:{CardWrapper:v,KpiWrapper:H},data:function(){return{eTotalKpiSpec:I,e2019KpiSpec:L,e2020KpiSpec:R,e2021KpiSpec:V,ePredKpiSpec:G,growthKpiSpec:Y,tTotalKpiSpec:Q,t2019KpiSpec:X,t2020KpiSpec:Z,t2021KpiSpec:tt,tPredKpiSpec:at}}},rt=et,ot=Object(g["a"])(rt,p,d,!1,null,null,null),it=ot.exports,nt=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("section",[r("div",{staticClass:"row my-3"},[r("div",{staticClass:"col-md-6"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Top 5 enti creditori")]),r("p",[t._v(" Numero di transazioni totali "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Totale delle transazioni gestite da pagoPA per il singolo Ente creditore, dall'attivazione dei relativi servizi sulla piattaforma."}},[r("svg",{staticClass:"icon icon-sm align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("div",{staticClass:"pie-wrapper"},[r("ChartWrapper",{attrs:{spec:t.topEcSpec}})],1)])],1),r("div",{staticClass:"col-md-6 mt-3 mt-md-0"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Top 5 PSP")]),r("p",[t._v(" Numero di transazioni totali "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Totale delle transazioni gestite da pagoPA tramite il singolo Prestatore di Servizio di Pagamento, dalla sua adesione alla piattaforma."}},[r("svg",{staticClass:"icon icon-sm align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("div",{staticClass:"pie-wrapper"},[r("ChartWrapper",{attrs:{spec:t.topPspSpec}})],1)])],1)]),r("div",{staticClass:"row my-3"},[r("div",{staticClass:"col-md-6"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Confronto Top 5 enti creditori")]),r("p",[t._v("Numero di transazioni durante gli ultimi 3 anni")]),r("ChartWrapper",{attrs:{spec:t.topEcCompareSpec}})],1)],1),r("div",{staticClass:"col-md-6 mt-3 mt-md-0"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Confronto Top 5 PSP")]),r("p",[t._v(" Numero di transazioni durante gli ultimi 3 anni "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Transazioni gestite da pagoPA tramite il singolo Prestatore di Servizio di Pagamento, dalla sua adesione alla piattaforma."}},[r("svg",{staticClass:"icon icon-sm align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("ChartWrapper",{attrs:{spec:t.topPspCompareSpec}})],1)],1)])])},st=[],lt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"chart-content",staticClass:"w-100 h-100",attrs:{id:"chart-content"}})},ct=[],pt={name:"ChartWrapper",props:["spec"],mounted:function(){Object(O["a"])(this.$refs["chart-content"],this.spec,A)}},dt=pt,ut=Object(g["a"])(dt,lt,ct,!1,null,null,null),mt=ut.exports,ft=e("3eed"),ht=e("0efd"),gt=e("3d68"),bt=e("7562"),vt={name:"TopSection",components:{CardWrapper:v,ChartWrapper:mt},data:function(){return{topEcSpec:ft,topEcCompareSpec:ht,topPspSpec:gt,topPspCompareSpec:bt}}},yt=vt,Ct=(e("04c3"),Object(g["a"])(yt,nt,st,!1,null,"f828b31c",null)),xt=Ct.exports,St=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("CardWrapper",{staticClass:"my-3",attrs:{cardClass:"text-center"}},[e("h5",[t._v("Transazioni mensili")]),e("p",[t._v(" Numero cumulativo di transazioni mensili gestite da pagoPA nel tempo ")]),e("div",{staticClass:"chart-wrapper"},[e("ChartWrapper",{attrs:{spec:t.trxSeriesSpec}})],1)]),e("CardWrapper",{staticClass:"my-3",attrs:{cardClass:"text-center"}},[e("h5",[t._v("Confronto transazioni")]),e("p",[t._v("Numero di transazioni mensili gestite durante gli ultimi 3 anni")]),e("div",{staticClass:"chart-wrapper"},[e("ChartWrapper",{staticClass:"chart-wrapper",attrs:{spec:t.trxCompareSpec}})],1)])],1)},jt=[],_t=e("b045"),kt=e("5f05"),zt={name:"TrxSection",components:{CardWrapper:v,ChartWrapper:mt},data:function(){return{trxCompareSpec:_t,trxSeriesSpec:kt}}},Ot=zt,wt=(e("3907"),Object(g["a"])(Ot,St,jt,!1,null,"2d5012fc",null)),Pt=wt.exports,Wt={name:"Home",components:{KpiSection:it,TopSection:xt,TrxSection:Pt},mounted:function(){c()((function(){c()('[data-toggle="tooltip"]').tooltip()}))}},Kt=Wt,$t=Object(g["a"])(Kt,n,s,!1,null,null,null),Nt=$t.exports,Tt={components:{Home:Nt}},At=Tt,Jt=Object(g["a"])(At,o,i,!1,null,null,null),Bt=Jt.exports;e("3ed1");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(Bt)}}).$mount("#app")},"57d1":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"transactions2019[0].total"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},"5f05":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","width":"container","height":"container","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"fold":["tsGroups","forecastByMonth"]},{"flatten":["value"]},{"calculate":"datum.value.ds","as":"Mese"},{"calculate":"datum.value.y","as":"transazioni"},{"calculate":"datum.value.yhat_upper","as":"stime ottimistiche"},{"calculate":"datum.value.yhat","as":"stime pessimistiche"},{"fold":["transazioni","stime ottimistiche","stime pessimistiche"]},{"filter":"datum.value != null"},{"window":[{"field":"value","op":"sum","as":"cumulative"}],"groupby":["key"]},{"joinaggregate":[{"field":"transazioni","op":"sum","as":"y_past"}]},{"calculate":"datum.key != \'transazioni\' ? datum.cumulative + datum.y_past : datum.cumulative","as":"cumulative"}],"layer":[{"mark":{"type":"area"},"encoding":{"color":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#fff","#9ff5f2","#fff"]}}}},{"mark":{"type":"line","point":true},"encoding":{"color":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#fff","#9ff5f2","#fff"]}},"stroke":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#0066cc","#0BD9D3","#0BD9D3"]}}}},{"transform":[{"calculate":"format(datum.cumulative, \',d\')","as":"cumulative_format"},{"pivot":"key","value":"cumulative_format","groupby":["Mese"],"op":"min"}],"mark":{"type":"bar","width":20,"tooltip":{"expr":"merge(datum, {Mese: timeFormat(datum.Mese, \'%B %Y\')})"},"color":"transparent"},"encoding":{"y":{"value":0},"y2":{"value":"height"}}}],"encoding":{"x":{"field":"Mese","type":"temporal"},"y":{"field":"cumulative","type":"quantitative","axis":{"format":"~s"},"stack":false}}}')},7562:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"pspByAnno"}},"transform":[{"filter":"datum.Anno >= 2019"}],"facet":{"row":{"field":"PSP","sort":{"field":"-total"}}},"spec":{"width":"container","layer":[{"mark":{"type":"bar"},"encoding":{"x":{"field":"total","type":"quantitative","axis":{"format":"~s"}},"y":{"field":"Anno","axis":null},"color":{"field":"Anno"}}},{"transform":[{"calculate":"format(datum.total, \',d\')","as":"total_format"},{"pivot":"Anno","value":"total_format","groupby":["PSP"],"op":"min"}],"mark":{"type":"bar","fill":"transparent","tooltip":{"content":"data"}}}]}}')},"75f9":function(t,a,e){},b045:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.byMonthPos","as":"Positive"},{"calculate":"datum.byMonthNeg","as":"Negative"},{"fold":["Positive","Negative"]},{"flatten":["value"]},{"timeUnit":"year","field":"value.monthofyear","as":"year"},{"timeUnit":"month","field":"value.monthofyear","as":"month"},{"filter":"year(datum.year) >= 2019"},{"calculate":"datum.key + \' \' + year(datum.year)","as":"color_label"}],"spacing":0,"facet":{"column":{"field":"month","type":"ordinal","timeUnit":"month","title":null,"header":{"orient":"bottom","labelAnchor":"middle"}}},"spec":{"height":300,"layer":[{"mark":{"type":"bar","strokeWidth":2},"encoding":{"x":{"field":"year","type":"ordinal","timeUnit":"year","axis":null,"scale":{"paddingOuter":0.4,"paddingInner":0.2}},"y":{"field":"value.total","type":"quantitative"},"fill":{"field":"color_label","type":"ordinal","sort":null,"scale":{"range":["#15c5f8","#0066CC","#2d489d","#8BE3FB","#73B9FF","#889CDD"]}},"stroke":{"field":"color_label","type":"ordinal","sort":null,"scale":{"range":["#15c5f8","#0066CC","#2d489d"]}}}},{"transform":[{"calculate":"format(datum.value.total, \',d\')","as":"total_format"},{"calculate":"timeFormat(datum.month, \'%B\')","as":"Mese"},{"pivot":"color_label","value":"total_format","groupby":["Mese"],"op":"min"}],"mark":{"type":"bar","fill":"transparent","tooltip":{"content":"data"}}}]}}')},bebc:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","params":[{"name":"eUntil31122019","value":11129053683}],"data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"eUntil31122019 + datum.transactions2020[0].importo / 100 + datum.transactions2021[0].importo / 100","as":"e_tot"}],"mark":"text","encoding":{"text":{"field":"e_tot","format":"$,d"}}}')},c8ea:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"flatten":["forecastByMonth"]},{"joinaggregate":[{"field":"forecastByMonth.yhat_upper","op":"sum","as":"tyhat"}]},{"calculate":"datum.transactions2021[0].total","as":"t2021"},{"calculate":"datum.t2021 + datum.tyhat","as":"tpred"},{"aggregate":[{"field":"tpred","op":"max","as":"tpred"}]}],"mark":"text","encoding":{"text":{"field":"tpred","format":",d"}}}')},d0b5:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.growthRate / 100","as":"data"}],"mark":"text","encoding":{"text":{"field":"data","format":"+,.0%"}}}')},d72e:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"transactions2020[0].total"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},d9c6:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"values":{"datum":8341588984}},"mark":"text","encoding":{"text":{"field":"datum","format":"$,d"}}}')},ebc0:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"flatten":["forecastByMonth"]},{"joinaggregate":[{"field":"forecastByMonth.yhat_upper","op":"sum","as":"tyhat"}]},{"calculate":"datum.transactions2020[0].importo / 100","as":"e2020"},{"calculate":"datum.transactions2021[0].importo / 100","as":"e2021"},{"calculate":"datum.transactions2020[0].total","as":"t2020"},{"calculate":"datum.transactions2021[0].total","as":"t2021"},{"calculate":"((datum.e2020 / datum.t2020) * datum.tyhat) + datum.e2021","as":"epred"},{"aggregate":[{"field":"epred","op":"min","as":"epred"}]}],"mark":"text","encoding":{"text":{"field":"epred","format":"$,d"}}}')}});