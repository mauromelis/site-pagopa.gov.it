(function(t){function a(a){for(var r,n,l=a[0],s=a[1],d=a[2],p=0,u=[];p<l.length;p++)n=l[p],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&u.push(o[n][0]),o[n]=0;for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(t[r]=s[r]);c&&c(a);while(u.length)u.shift()();return i.push.apply(i,d||[]),e()}function e(){for(var t,a=0;a<i.length;a++){for(var e=i[a],r=!0,l=1;l<e.length;l++){var s=e[l];0!==o[s]&&(r=!1)}r&&(i.splice(a--,1),t=n(n.s=e[0]))}return t}var r={},o={app:0},i=[];function n(a){if(r[a])return r[a].exports;var e=r[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=t,n.c=r,n.d=function(t,a,e){n.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,a){if(1&a&&(t=n(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var r in t)n.d(e,r,function(a){return t[a]}.bind(null,r));return e},n.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(a,"a",a),a},n.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},n.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],s=l.push.bind(l);l.push=a,l=l.slice();for(var d=0;d<l.length;d++)a(l[d]);var c=s;i.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"024c":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"totalInHistory"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},"0efd":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"top5_ec_by_anno"}},"transform":[{"joinaggregate":[{"field":"denominazioneec","op":"min","as":"name"}],"groupby":["codicefiscaleec"]}],"facet":{"row":{"field":"name","sort":{"field":"-total"}}},"spec":{"width":"container","layer":[{"mark":{"type":"bar"},"encoding":{"x":{"field":"total","type":"quantitative","axis":{"format":"~s"}},"y":{"field":"anno","axis":null,"stack":false},"color":{"field":"anno"}}},{"transform":[{"calculate":"datum.name","as":"Ente creditore"},{"calculate":"format(datum.total, \',d\')","as":"total_format"},{"pivot":"anno","value":"total_format","groupby":["Ente creditore"],"op":"min"}],"mark":{"type":"bar","fill":"transparent","tooltip":{"content":"data"}}}]}}')},1556:function(t,a,e){"use strict";e("73e1")},1936:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.transactions2021[0].importo / 100 ","as":"eCur"}],"mark":"text","encoding":{"text":{"field":"eCur","format":"$,d"}}}')},2761:function(t){t.exports=JSON.parse('{"padding":0,"view":{"stroke":null},"arc":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"area":{"fill":"#0066CC"},"axis":{"domainColor":"#cbcbcb","grid":true,"gridColor":"#cbcbcb","gridWidth":1,"labelColor":"#19191a","labelFont":"inherit","labelFontSize":10,"titleColor":"#19191a","tickColor":"#cbcbcb","tickSize":10,"titleFont":"inherit","titlePadding":10,"labelPadding":4},"axisBand":{"grid":false},"background":"transparent","legend":{"labelColor":"#19191a","labelFont":"inherit","labelFontSize":12,"symbolSize":180,"titleColor":"#19191a","titleFont":"inherit","titleFontSize":14,"titlePadding":10},"line":{"stroke":"#0066CC","strokeWidth":2},"header":{"labelFont":"inherit","titleFont":"inherit","labelFontSize":12},"path":{"stroke":"#0066CC","strokeWidth":0.5},"rect":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"range":{"category":["#0BD9D3","#15c5f8","#0066CC","#2d489d","#00264D"],"diverging":["#43ecee","#b947ff"],"heatmap":["#9ff5f2","#0066CC","#fd338b"]},"point":{"filled":true,"shape":"circle"},"shape":{"stroke":"#0066CC"},"text":{"font":"inherit"},"bar":{"binSpacing":2,"fill":"#0066CC","stroke":null},"title":{"anchor":"start","font":"inherit","subtitleFont":"inherit","fontSize":24,"fontWeight":600,"offset":20},"selection":{"highlight":{"type":"single","empty":"none","on":"mouseover"},"select":{"type":"multi"}}}')},"27f1":function(t,a,e){},"30bc":function(t,a,e){"use strict";e("27f1")},"3d68":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","height":"container","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"pspByAnno"}},"transform":[{"joinaggregate":[{"op":"sum","field":"total","as":"sum"}]},{"calculate":"datum.total / datum.sum","as":"perc"}],"mark":{"type":"arc","tooltip":true},"encoding":{"theta":{"field":"total","type":"quantitative","aggregate":"sum"},"color":{"field":"PSP","sort":"order","legend":{"orient":"right"}},"order":{"field":"total","sort":"descending","aggregate":"sum"},"tooltip":[{"field":"PSP","title":"PSP"},{"field":"total","format":",d","aggregate":"sum","title":"Numero transazioni"},{"field":"perc","title":"su totale top 5","aggregate":"sum","format":".3p"}]}}')},"3ed1":function(t,a,e){},"3eed":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","height":"container","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"top5_ec"}},"transform":[{"joinaggregate":[{"op":"sum","field":"total","as":"sum"}]},{"calculate":"datum.total / datum.sum","as":"perc"}],"mark":{"type":"arc","tooltip":true},"encoding":{"theta":{"field":"total","type":"quantitative"},"color":{"field":"denominazioneec","sort":"order","legend":{"orient":"right"}},"order":{"field":"total","sort":"descending"},"tooltip":[{"field":"denominazioneec","title":"Ente creditore"},{"field":"total","format":",d","title":"Numero transazioni"},{"field":"perc","title":"su totale top 5","format":".3p"}]}}')},"411d":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"transactions2019[0].total"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},"4d1f":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.transactions2020[0].importo / 100 ","as":"eLast"}],"mark":"text","encoding":{"text":{"field":"eLast","format":"$,d"}}}')},"56d7":function(t,a,e){"use strict";e.r(a);e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("3ec5"),e("f5ef");var r=e("2b0e"),o=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("Home")],1)},i=[],n=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"container"},[e("KpiSection"),e("TrxSection"),e("TopSection")],1)},l=[],s=e("1157"),d=e.n(s),c=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("section",{staticClass:"analogue-2-bg shadow px-3 pt-3"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-lg-6 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Totale transazioni "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni gestite da pagoPA dal 2016."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.tTotalKpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Valore totale transato "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Euro transati da pagoPA dal 2016."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.eTotalKpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 col-xl-4 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Transazioni "+t._s(t.prevYear)+" "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni ed euro gestiti da pagoPA nell'anno "+t.prevYear}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.tyPrevKpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.eyPrevKpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 col-xl-4 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Transazioni "+t._s(t.lastYear)+" "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni ed euro gestiti da pagoPA nell'anno "+t.lastYear}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.tyLastKpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.eyLastKpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 col-xl-4 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Transazioni "+t._s(t.curYear)+" "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Numero totale di transazioni ed euro gestiti da pagoPA nell'anno "+t.curYear}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.tyCurKpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.eyCurKpiSpec}})],1)],1),r("div",{staticClass:"col-lg-6 mb-3 order-xl-last"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Previsioni "+t._s(t.curYear)+" "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Stima del totale transazioni e controvalore economico a fine anno."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.tPredKpiSpec}}),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.ePredKpiSpec}})],1)],1),r("div",{staticClass:"col-xl-6 mb-3"},[r("CardWrapper",{attrs:{cardClass:"text-center primary-color"}},[r("h6",[t._v(" Tasso di crescita transazioni "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Confronto rispetto allo stesso periodo dell'anno precedente."}},[r("svg",{staticClass:"icon icon-sm icon-primary align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("KpiWrapper",{staticClass:"d-block mb-0 h4",attrs:{spec:t.growthKpiSpec}})],1)],1)])])},p=[],u=(e("0d03"),function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"card card-bg h-100 m-0 no-after",class:t.cardClass},[e("div",{staticClass:"card-body"},[t._t("default")],2)])}),m=[],f={name:"CardWrapper",props:["cardClass"]},h=f,g=e("2877"),b=Object(g["a"])(h,u,m,!1,null,null,null),v=b.exports,y=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("span",[t._v(t._s(t.text))])},C=[],_=(e("96cf"),e("1da1")),x=e("5530"),S=e("e1a1"),k=e("5e9b"),z=e("2a83"),j=e("89c5"),w=e("87e7"),P=e("75d9"),O=e("5961"),W=e("2761"),K={},F=Object(S["loader"])(),$=F.http;F.http=function(t,a){return null==K[t]&&(K[t]=$.call(this,t,a)),K[t]},w["b"].expressionInterpreter=k["a"],Object(S["formatLocale"])(P),Object(S["timeFormatLocale"])(O);var N={actions:!1,config:Object(x["a"])(Object(x["a"])({},W),{},{header:Object(x["a"])(Object(x["a"])({},W.header),{},{title:null,labelOrient:"top",labelAnchor:"start",labelPadding:5}),axis:Object(x["a"])(Object(x["a"])({},W.axis),{},{title:null,tickCount:4}),legend:Object(x["a"])(Object(x["a"])({},W.legend),{},{title:null,orient:"top",labelLimit:0,layout:{right:{anchor:"middle"},top:{anchor:"middle"}}})}),loader:F,renderer:"svg",ast:!0},T=N;function D(t,a,e){if(t[a]==e)return t;if(null!=t.items){var r,o=null;for(r=0;null==o&&r<t.items.length;r++)o=D(t.items[r],a,e);return o}return null}function B(t){if(null==t.$schema)return{};var a=Object(j["a"])(t.$schema),e=a.library,r="vega-lite"===e?Object(z["compile"])(t).spec:t;return r}function A(t){var a=B(t);return new S["View"](Object(S["parse"])(a,void 0,{ast:!0}),Object(x["a"])(Object(x["a"])({},T),{},{expr:k["a"],renderer:"none"})).runAsync().then((function(t){var a=t.scenegraph();return a}))}function E(t,a,e){return A(t).then((function(t){return D(t.root,a,e)}))}function J(t){return E(t,"role","mark").then((function(t){return null!=t?t.items:[]}))}var M={name:"KpiWrapper",props:["spec"],data:function(){return{text:"#"}},mounted:function(){var t=this;return Object(_["a"])(regeneratorRuntime.mark((function a(){var e;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,J(t.spec);case 2:e=a.sent,t.text=e[0].text;case 4:case"end":return a.stop()}}),a)})))()}},Y=M,L=Object(g["a"])(Y,y,C,!1,null,null,null),q=L.exports,R=e("bebc"),V=e("d938"),H=e("4d1f"),U=e("1936"),I=e("ebc0"),G=e("d0b5"),Q=e("024c"),X=e("411d"),Z=e("6269"),tt=e("575b"),at=e("c8ea"),et={name:"KpiSection",components:{CardWrapper:v,KpiWrapper:q},data:function(){return{curYear:(new Date).getFullYear(),eTotalKpiSpec:R,eyPrevKpiSpec:V,eyLastKpiSpec:H,eyCurKpiSpec:U,ePredKpiSpec:I,growthKpiSpec:G,tTotalKpiSpec:Q,tyPrevKpiSpec:X,tyLastKpiSpec:Z,tyCurKpiSpec:tt,tPredKpiSpec:at}},computed:{lastYear:function(){return this.curYear-1},prevYear:function(){return this.curYear-2}}},rt=et,ot=Object(g["a"])(rt,c,p,!1,null,null,null),it=ot.exports,nt=function(){var t=this,a=t.$createElement,r=t._self._c||a;return r("section",[r("div",{staticClass:"row my-3"},[r("div",{staticClass:"col-md-6"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Top 5 enti creditori")]),r("p",[t._v(" Numero di transazioni totali "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Totale delle transazioni gestite da pagoPA per il singolo Ente creditore, dall'attivazione dei relativi servizi sulla piattaforma."}},[r("svg",{staticClass:"icon icon-sm align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("div",{staticClass:"pie-wrapper"},[r("ChartWrapper",{attrs:{spec:t.topEcSpec}})],1)])],1),r("div",{staticClass:"col-md-6 mt-3 mt-md-0"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Top 5 PSP")]),r("p",[t._v(" Numero di transazioni totali "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Totale delle transazioni gestite da pagoPA tramite il singolo Prestatore di Servizio di Pagamento, dalla sua adesione alla piattaforma."}},[r("svg",{staticClass:"icon icon-sm align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("div",{staticClass:"pie-wrapper"},[r("ChartWrapper",{attrs:{spec:t.topPspSpec}})],1)])],1)]),r("div",{staticClass:"row my-3"},[r("div",{staticClass:"col-md-6"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Confronto Top 5 enti creditori")]),r("p",[t._v("Numero di transazioni durante gli ultimi 3 anni")]),r("ChartWrapper",{attrs:{spec:t.topEcCompareSpec}})],1)],1),r("div",{staticClass:"col-md-6 mt-3 mt-md-0"},[r("CardWrapper",{attrs:{cardClass:"text-center"}},[r("h5",[t._v("Confronto Top 5 PSP")]),r("p",[t._v(" Numero di transazioni durante gli ultimi 3 anni "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Transazioni gestite da pagoPA tramite il singolo Prestatore di Servizio di Pagamento, dalla sua adesione alla piattaforma."}},[r("svg",{staticClass:"icon icon-sm align-top"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("ChartWrapper",{attrs:{spec:t.topPspCompareSpec}})],1)],1)])])},lt=[],st=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{ref:"chart-content",staticClass:"w-100 h-100",attrs:{id:"chart-content"}})},dt=[],ct={name:"ChartWrapper",props:["spec"],mounted:function(){Object(w["a"])(this.$refs["chart-content"],this.spec,T)}},pt=ct,ut=Object(g["a"])(pt,st,dt,!1,null,null,null),mt=ut.exports,ft=e("3eed"),ht=e("0efd"),gt=e("3d68"),bt=e("7562"),vt={name:"TopSection",components:{CardWrapper:v,ChartWrapper:mt},data:function(){return{topEcSpec:ft,topEcCompareSpec:ht,topPspSpec:gt,topPspCompareSpec:bt}}},yt=vt,Ct=(e("30bc"),Object(g["a"])(yt,nt,lt,!1,null,"0f546e51",null)),_t=Ct.exports,xt=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("section",[e("CardWrapper",{staticClass:"my-3",attrs:{cardClass:"text-center"}},[e("h5",[t._v("Transazioni mensili")]),e("p",[t._v(" Numero cumulativo di transazioni mensili gestite da pagoPA nel tempo ")]),e("div",{staticClass:"chart-wrapper"},[e("ChartWrapper",{attrs:{spec:t.trxSeriesSpec}})],1)]),e("CardWrapper",{staticClass:"my-3",attrs:{cardClass:"text-center"}},[e("h5",[t._v("Confronto transazioni")]),e("p",[t._v("Numero di transazioni mensili gestite durante gli ultimi 3 anni")]),e("div",{staticClass:"chart-wrapper"},[e("ChartWrapper",{staticClass:"chart-wrapper",attrs:{spec:t.trxCompareSpec}})],1)])],1)},St=[],kt=e("dfff"),zt=e("5f05"),jt={name:"TrxSection",components:{CardWrapper:v,ChartWrapper:mt},data:function(){return{trxCompareSpec:kt,trxSeriesSpec:zt}}},wt=jt,Pt=(e("1556"),Object(g["a"])(wt,xt,St,!1,null,"17e034e9",null)),Ot=Pt.exports,Wt={name:"Home",components:{KpiSection:it,TopSection:_t,TrxSection:Ot},mounted:function(){d()((function(){d()('[data-toggle="tooltip"]').tooltip()}))}},Kt=Wt,Ft=Object(g["a"])(Kt,n,l,!1,null,null,null),$t=Ft.exports,Nt={components:{Home:$t}},Tt=Nt,Dt=Object(g["a"])(Tt,o,i,!1,null,null,null),Bt=Dt.exports;e("3ed1");r["a"].config.productionTip=!1,new r["a"]({render:function(t){return t(Bt)}}).$mount("#app")},"575b":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"transactions2021[0].total"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},"5f05":function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","width":"container","height":"container","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"fold":["tsGroups","forecastByMonth"]},{"flatten":["value"]},{"calculate":"datum.value.ds","as":"Mese"},{"calculate":"datum.value.y","as":"transazioni"},{"calculate":"datum.value.yhat_upper","as":"stime ottimistiche"},{"calculate":"datum.value.yhat","as":"stime pessimistiche"},{"fold":["transazioni","stime ottimistiche","stime pessimistiche"]},{"filter":"datum.value != null"},{"window":[{"field":"value","op":"sum","as":"cumulative"}],"groupby":["key"]},{"joinaggregate":[{"field":"transazioni","op":"sum","as":"y_past"}]},{"calculate":"datum.key != \'transazioni\' ? datum.cumulative + datum.y_past : datum.cumulative","as":"cumulative"}],"layer":[{"mark":{"type":"area"},"encoding":{"color":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#fff","#9ff5f2","#fff"]}}}},{"mark":{"type":"line","point":true},"encoding":{"color":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#fff","#9ff5f2","#fff"]}},"stroke":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#0066cc","#0BD9D3","#0BD9D3"]}}}},{"transform":[{"calculate":"format(datum.cumulative, \',d\')","as":"cumulative_format"},{"pivot":"key","value":"cumulative_format","groupby":["Mese"],"op":"min"}],"mark":{"type":"bar","width":20,"tooltip":{"expr":"merge(datum, {Mese: timeFormat(datum.Mese, \'%B %Y\')})"},"color":"transparent"},"encoding":{"y":{"value":0},"y2":{"value":"height"}}}],"encoding":{"x":{"field":"Mese","type":"temporal","axis":{"tickCount":9}},"y":{"field":"cumulative","type":"quantitative","axis":{"format":"~s"},"stack":false}}}')},6269:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"transactions2020[0].total"}},"mark":"text","encoding":{"text":{"field":"data","format":",d"}}}')},"73e1":function(t,a,e){},7562:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"pspByAnno"}},"transform":[{"calculate":"year(now())","as":"cur_year"},{"calculate":"datum.cur_year - 2","as":"max_year"},{"filter":"datum.Anno >= datum.max_year"}],"facet":{"row":{"field":"PSP","sort":{"field":"-total"}}},"spec":{"width":"container","layer":[{"mark":{"type":"bar"},"encoding":{"x":{"field":"total","type":"quantitative","axis":{"format":"~s"}},"y":{"field":"Anno","axis":null},"color":{"field":"Anno"}}},{"transform":[{"calculate":"format(datum.total, \',d\')","as":"total_format"},{"pivot":"Anno","value":"total_format","groupby":["PSP"],"op":"min"}],"mark":{"type":"bar","fill":"transparent","tooltip":{"content":"data"}}}]}}')},bebc:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","params":[{"name":"eUntil31122019","value":11129053683}],"data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"eUntil31122019 + datum.transactions2020[0].importo / 100 + datum.transactions2021[0].importo / 100","as":"e_tot"}],"mark":"text","encoding":{"text":{"field":"e_tot","format":"$,d"}}}')},c8ea:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"flatten":["forecastByMonth"]},{"joinaggregate":[{"field":"forecastByMonth.yhat_upper","op":"sum","as":"tyhat"}]},{"calculate":"datum.transactions2021[0].total","as":"tCur"},{"calculate":"datum.tCur + datum.tyhat","as":"tpred"},{"aggregate":[{"field":"tpred","op":"max","as":"tpred"}]}],"mark":"text","encoding":{"text":{"field":"tpred","format":",d"}}}')},d0b5:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.growthRate / 100","as":"data"}],"mark":"text","encoding":{"text":{"field":"data","format":"+,.0%"}}}')},d938:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"values":{"datum":8341588984}},"mark":"text","encoding":{"text":{"field":"datum","format":"$,d"}}}')},dfff:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega/v5.json","autosize":{"type":"fit","contains":"padding"},"background":"transparent","data":[{"name":"source_0","url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"type":"json"},"transform":[{"type":"formula","expr":"datum.byMonthPos","as":"Positive"},{"type":"formula","expr":"datum.byMonthNeg","as":"Negative"},{"type":"fold","fields":["Positive","Negative"],"as":["key","value"]},{"type":"flatten","fields":["value"],"as":["value"]},{"type":"formula","expr":"toDate(datum[\\"value\\"] && datum[\\"value\\"][\\"monthofyear\\"])","as":"value.monthofyear"},{"type":"formula","expr":"datum[\\"value\\"] && datum[\\"value\\"][\\"total\\"]","as":"value.total"},{"field":"value\\\\.monthofyear","type":"timeunit","units":["year"],"as":["year","year_end"]},{"field":"value\\\\.monthofyear","type":"timeunit","units":["month"],"as":["month","month_end"]},{"type":"formula","expr":"year(now())","as":"cur_year"},{"type":"formula","expr":"datum.cur_year - 2","as":"max_year"},{"type":"filter","expr":"year(datum.year) >= datum.max_year"},{"type":"formula","expr":"datum.key + \' \' + year(datum.year)","as":"color_label"},{"type":"formula","expr":"datum.key + \' \' + (10000 - year(datum.year))","as":"color_sort"},{"field":"month","type":"timeunit","units":["month"],"as":["month_month","month_month_end"]}]},{"name":"data_0","source":"source_0","transform":[{"field":"year","type":"timeunit","units":["year"],"as":["year_year","year_year_end"]}]},{"name":"data_1","source":"data_0","transform":[{"type":"stack","groupby":["year_year","month_month"],"field":"value\\\\.total","sort":{"field":["color_label","color_label"],"order":["descending","descending"]},"as":["value.total_start","value.total_end"],"offset":"zero"},{"type":"filter","expr":"isValid(datum[\\"value.total\\"]) && isFinite(+datum[\\"value.total\\"])"}]},{"name":"data_2","source":"source_0","transform":[{"type":"formula","expr":"format(datum.value.total, \',d\')","as":"total_format"},{"type":"formula","expr":"timeFormat(datum.month, \'%B\')","as":"Mese"},{"type":"pivot","field":"color_label","value":"total_format","op":"min","groupby":["Mese"]}]},{"name":"column_domain","source":"source_0","transform":[{"type":"aggregate","groupby":["month_month"]}]}],"signals":[{"name":"width","init":"isFinite(containerSize()[0]) ? containerSize()[0] : 200","on":[{"update":"isFinite(containerSize()[0]) ? containerSize()[0] : 200","events":"window:resize"}]},{"name":"height","update":"isFinite(containerSize()[1]) ? containerSize()[1] : 200","on":[{"update":"isFinite(containerSize()[1]) ? containerSize()[1] : 200","events":"window:resize"}]},{"name":"x_step","update":"width / 12 / 3.6"},{"name":"child_width","update":"bandspace(domain(\'x\').length, 0.2, 0.4) * x_step"},{"name":"child_height","update":"height"}],"layout":{"padding":0,"titleAnchor":{"column":"end"},"columns":{"signal":"length(data(\'column_domain\'))"},"bounds":"full","align":"all"},"marks":[{"name":"row_header","type":"group","role":"row-header","encode":{"update":{"height":{"signal":"child_height"}}},"axes":[{"scale":"y","orient":"left","grid":false,"format":"~s","labelOverlap":true,"tickCount":4,"zindex":0}]},{"name":"column_footer","type":"group","role":"column-footer","from":{"data":"column_domain"},"sort":{"field":"datum[\\"month_month\\"]","order":"ascending"},"title":{"text":{"signal":"timeFormat(parent[\\"month_month\\"], timeUnitSpecifier([\\"month\\"], {\\"year-month\\":\\"%b %Y \\",\\"year-month-date\\":\\"%b %d, %Y \\"}))"},"style":"guide-label","frame":"group","anchor":"middle","font":"inherit","fontSize":12,"fontWeight":300,"orient":"bottom","offset":5},"encode":{"update":{"width":{"signal":"child_width"}}}},{"name":"cell","type":"group","style":"cell","from":{"facet":{"name":"facet","data":"source_0","groupby":["month_month"]}},"sort":{"field":["datum[\\"month_month\\"]"],"order":["ascending"]},"data":[{"source":"facet","name":"data_0","transform":[{"field":"year","type":"timeunit","units":["year"],"as":["year_year","year_year_end"]}]},{"name":"data_1","source":"data_0","transform":[{"type":"stack","groupby":["year_year"],"field":"value\\\\.total","sort":{"field":["color_label","color_label"],"order":["descending","descending"]},"as":["value.total_start","value.total_end"],"offset":"zero"},{"type":"filter","expr":"isValid(datum[\\"value.total\\"]) && isFinite(+datum[\\"value.total\\"])"}]},{"source":"facet","name":"data_2","transform":[{"type":"formula","expr":"format(datum.value.total, \',d\')","as":"total_format"},{"type":"formula","expr":"timeFormat(datum.month, \'%B\')","as":"Mese"},{"type":"pivot","field":"color_label","value":"total_format","op":"min","groupby":["Mese"]}]}],"encode":{"update":{"width":{"signal":"child_width"},"height":{"signal":"child_height"}}},"marks":[{"name":"child_layer_0_marks","type":"rect","style":["bar"],"from":{"data":"data_1"},"encode":{"update":{"strokeWidth":{"value":2},"fill":{"scale":"fill","field":"color_label"},"stroke":{"scale":"stroke","field":"color_label"},"ariaRoleDescription":{"value":"bar"},"description":{"signal":"\\"year (year): \\" + (timeFormat(datum[\\"year_year\\"], timeUnitSpecifier([\\"year\\"], {\\"year-month\\":\\"%b %Y \\",\\"year-month-date\\":\\"%b %d, %Y \\"}))) + \\"; value.total: \\" + (format(datum[\\"value.total\\"], \\"~s\\")) + \\"; color_label: \\" + (isValid(datum[\\"color_label\\"]) ? datum[\\"color_label\\"] : \\"\\"+datum[\\"color_label\\"])"},"x":{"scale":"x","field":"year_year"},"width":{"scale":"x","band":1},"y":{"scale":"y","field":"value\\\\.total_end"},"y2":{"scale":"y","field":"value\\\\.total_start"}}}},{"name":"child_layer_1_marks","type":"rect","style":["bar"],"from":{"data":"data_2"},"encode":{"update":{"fill":{"value":"transparent"},"tooltip":{"signal":"datum"},"ariaRoleDescription":{"value":"bar"},"x":{"field":{"group":"width"}},"x2":{"value":0},"y":{"value":0},"y2":{"field":{"group":"height"}}}}}],"axes":[{"scale":"y","orient":"left","gridScale":"x","grid":true,"tickCount":4,"domain":false,"labels":false,"aria":false,"maxExtent":0,"minExtent":0,"ticks":false,"zindex":0}]}],"scales":[{"name":"x","type":"band","domain":{"data":"data_1","field":"year_year","sort":true},"range":{"step":{"signal":"x_step"}},"paddingInner":0.2,"paddingOuter":0.4},{"name":"y","type":"linear","domain":{"data":"data_1","fields":["value\\\\.total_start","value\\\\.total_end"]},"range":[{"signal":"child_height"},0],"nice":true,"zero":true},{"name":"fill","type":"ordinal","domain":{"data":"data_0","field":"color_label","sort":{"op":"min","field":"color_sort","order":"descending"}},"range":["#15c5f8","#0066CC","#2d489d","#8BE3FB","#73B9FF","#889CDD"],"interpolate":"hcl"},{"name":"stroke","type":"ordinal","domain":{"data":"data_0","field":"color_label","sort":{"op":"min","field":"color_sort","order":"descending"}},"range":["#15c5f8","#0066CC","#2d489d"],"interpolate":"hcl"}],"legends":[{"columns":3,"fill":"fill","direction":"horizontal","symbolType":"square","stroke":"stroke","encode":{"symbols":{"update":{"fillOpacity":{"value":1}}}}}],"config":{"path":{"stroke":"#0066CC","strokeWidth":0.5},"range":{"category":["#0BD9D3","#15c5f8","#0066CC","#2d489d","#00264D"],"diverging":["#43ecee","#b947ff"],"heatmap":["#9ff5f2","#0066CC","#fd338b"]},"shape":{"stroke":"#0066CC"},"axis":{"domainColor":"#cbcbcb","grid":true,"gridColor":"#cbcbcb","gridWidth":1,"labelColor":"#19191a","labelFont":"inherit","labelFontSize":10,"titleColor":"#19191a","tickColor":"#cbcbcb","tickSize":10,"titleFont":"inherit","titlePadding":10,"labelPadding":4,"title":null,"tickCount":4},"axisBand":{"grid":false},"legend":{"labelColor":"#19191a","labelFont":"inherit","labelFontSize":12,"symbolSize":180,"titleColor":"#19191a","titleFont":"inherit","titleFontSize":14,"titlePadding":10,"title":null,"orient":"top","labelLimit":0,"layout":{"right":{"anchor":"middle"},"top":{"anchor":"middle"}}},"style":{"cell":{"stroke":null},"arc":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"area":{"fill":"#0066CC"},"bar":{"fill":"#0066CC","stroke":null},"line":{"stroke":"#0066CC","strokeWidth":2},"point":{"shape":"circle"},"rect":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"text":{"font":"inherit"},"group-title":{"font":"inherit","fontSize":24,"fontWeight":600}},"title":{"subtitleFont":"inherit"}}}')},ebc0:function(t){t.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"flatten":["forecastByMonth"]},{"joinaggregate":[{"field":"forecastByMonth.yhat_upper","op":"sum","as":"tyhat"}]},{"calculate":"datum.transactions2020[0].importo / 100","as":"ePrev"},{"calculate":"datum.transactions2021[0].importo / 100","as":"eCur"},{"calculate":"datum.transactions2020[0].total","as":"tPrev"},{"calculate":"((datum.ePrev / datum.tPrev) * datum.tyhat) + datum.eCur","as":"epred"},{"aggregate":[{"field":"epred","op":"min","as":"epred"}]}],"mark":"text","encoding":{"text":{"field":"epred","format":"$,d"}}}')}});