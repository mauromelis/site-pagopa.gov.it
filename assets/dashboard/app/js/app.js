(function(a){function t(t){for(var r,s,l=t[0],o=t[1],c=t[2],d=0,p=[];d<l.length;d++)s=l[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&p.push(n[s][0]),n[s]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(a[r]=o[r]);u&&u(t);while(p.length)p.shift()();return i.push.apply(i,c||[]),e()}function e(){for(var a,t=0;t<i.length;t++){for(var e=i[t],r=!0,l=1;l<e.length;l++){var o=e[l];0!==n[o]&&(r=!1)}r&&(i.splice(t--,1),a=s(s.s=e[0]))}return a}var r={},n={app:0},i=[];function s(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return a[t].call(e.exports,e,e.exports,s),e.l=!0,e.exports}s.m=a,s.c=r,s.d=function(a,t,e){s.o(a,t)||Object.defineProperty(a,t,{enumerable:!0,get:e})},s.r=function(a){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,t){if(1&t&&(a=s(a)),8&t)return a;if(4&t&&"object"===typeof a&&a&&a.__esModule)return a;var e=Object.create(null);if(s.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:a}),2&t&&"string"!=typeof a)for(var r in a)s.d(e,r,function(t){return a[t]}.bind(null,r));return e},s.n=function(a){var t=a&&a.__esModule?function(){return a["default"]}:function(){return a};return s.d(t,"a",t),t},s.o=function(a,t){return Object.prototype.hasOwnProperty.call(a,t)},s.p="/";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],o=l.push.bind(l);l.push=t,l=l.slice();for(var c=0;c<l.length;c++)t(l[c]);var u=o;i.push([0,"chunk-vendors"]),e()})({0:function(a,t,e){a.exports=e("56d7")},"0efd":function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"ec"}},"params":[{"name":"year","value":null}],"transform":[{"filter":"year == datum.year || year === +datum.year"}],"height":{"step":56},"width":"container","encoding":{"y":{"field":"des_amm","sort":{"field":"total","order":"descending","op":"sum"},"scale":{"padding":0},"axis":{"domain":false,"labelAlign":"left","labelLimit":0,"labelOffset":-20,"labelPadding":0,"ticks":false}}},"layer":[{"mark":{"type":"bar","height":19},"encoding":{"x":{"field":"total","type":"quantitative","aggregate":"sum","axis":{"format":"~s","gridDash":[21,35],"gridDashOffset":38}}}},{"mark":{"type":"bar","tooltip":true,"color":"transparent"},"encoding":{"tooltip":[{"field":"des_amm","title":"Ente creditore"},{"field":"total","aggregate":"sum","title":"Transazioni","format":",d"}]}}]}')},1936:function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"amount"}},"params":[{"name":"year","value":null}],"transform":[{"calculate":"datum.amount / 100","as":"eCur"},{"filter":"year == datum.year || year === +datum.year"}],"mark":"text","encoding":{"text":{"field":"eCur","aggregate":"sum","format":"$,d"}}}')},"212f":function(a,t,e){},2761:function(a){a.exports=JSON.parse('{"padding":0,"view":{"stroke":null},"arc":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"area":{"fill":"#0066CC"},"axis":{"domainColor":"#cbcbcb","grid":true,"gridColor":"#cbcbcb","gridWidth":1,"labelColor":"#19191a","labelFont":"inherit","labelFontSize":10,"titleColor":"#19191a","tickColor":"#cbcbcb","tickSize":10,"titleFont":"inherit","titlePadding":10,"labelPadding":4},"axisBand":{"grid":false},"background":"transparent","legend":{"labelColor":"#19191a","labelFont":"inherit","labelFontSize":12,"symbolSize":180,"titleColor":"#19191a","titleFont":"inherit","titleFontSize":14,"titlePadding":10},"line":{"stroke":"#0066CC","strokeWidth":2},"header":{"labelFont":"inherit","titleFont":"inherit","labelFontSize":12},"path":{"stroke":"#0066CC","strokeWidth":0.5},"rect":{"fill":"#0066CC","hover":{"color":"#0BDAD3"}},"range":{"category":["#0BD9D3","#15c5f8","#0066CC","#2d489d","#00264D"],"diverging":["#43ecee","#b947ff"],"heatmap":["#9ff5f2","#0066CC","#fd338b"]},"point":{"filled":true,"shape":"circle"},"shape":{"stroke":"#0066CC"},"text":{"font":"inherit"},"bar":{"binSpacing":2,"fill":"#0066CC","stroke":null},"title":{"anchor":"start","font":"inherit","subtitleFont":"inherit","fontSize":24,"fontWeight":600,"offset":20},"selection":{"highlight":{"type":"single","empty":"none","on":"mouseover"},"select":{"type":"multi"}}}')},"3ed1":function(a,t,e){},"56d7":function(a,t,e){"use strict";e.r(t);e("e260"),e("e6cf"),e("cca6"),e("a79d"),e("3ec5"),e("f5ef");var r=e("2b0e"),n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{attrs:{id:"app"}},[e("Home")],1)},i=[],s=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"affix-top bg-white"},[e("div",{staticClass:"container"},[e("TabsNav",{staticClass:"affix-top",attrs:{items:a.tabs},model:{value:a.selYear,callback:function(t){a.selYear=t},expression:"selYear"}})],1)]),e("div",{staticClass:"container"},[e("KpiSection",{attrs:{selYear:a.selYear}}),e("TrxSection",{attrs:{selYear:a.selYear}}),e("TopSection",{attrs:{selYear:a.selYear}})],1)])},l=[],o=(e("99af"),e("d81d"),e("26e9"),e("0d03"),e("d3b7"),e("ddb0"),e("2909")),c=e("1157"),u=e.n(c),d=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-6 mb-3"},[e("CardWrapper",{attrs:{cardClass:"bg-primary text-white"}},[e("h6",[a._v("Totale transazioni")]),e("KpiSignal",{staticClass:"d-block h3 font-weight-semibold",attrs:{spec:a.tyCurKpiSpec,yearSignal:a.selYear}}),e("div",{staticClass:"small"},[a._v("Numero totale di transazioni "+a._s(a.yearLabel))])],1)],1),e("div",{staticClass:"col-lg-6 mb-3"},[e("CardWrapper",{attrs:{cardClass:"bg-primary text-white"}},[e("h6",[a._v("Valore totale transato")]),e("KpiSignal",{staticClass:"d-block h3 font-weight-semibold",attrs:{spec:a.eyCurKpiSpec,yearSignal:a.selYear}}),e("div",{staticClass:"small"},[a._v("Euro transati da pagoPA "+a._s(a.yearLabel))])],1)],1)]),e("div",{staticClass:"row",class:{"d-none":!(null==a.selYear||a.selYear===a.curYear)}},[e("div",{staticClass:"col-lg-4 mb-3"},[e("CardWrapper",[e("h6",[a._v("Previsioni transazioni "+a._s(a.curYear))]),e("KpiWrapper",{staticClass:"d-block h3 font-weight-semibold",attrs:{spec:a.tPredKpiSpec}}),e("div",{staticClass:"small"},[a._v(" Stima del totale transazioni a fine anno ")])],1)],1),e("div",{staticClass:"col-lg-4 mb-3"},[e("CardWrapper",[e("h6",[a._v("Previsioni transato "+a._s(a.curYear))]),e("KpiWrapper",{staticClass:"d-block h3 font-weight-semibold",attrs:{spec:a.ePredKpiSpec}}),e("div",{staticClass:"small"},[a._v("Stima del controvalore economico a fine anno")])],1)],1),e("div",{staticClass:"col-xl-4 mb-3"},[e("CardWrapper",[e("h6",[a._v(" Tasso di crescita transazioni ")]),e("KpiWrapper",{staticClass:"d-block h3 font-weight-semibold",attrs:{spec:a.growthKpiSpec}}),e("div",{staticClass:"small"},[a._v(" Confronto rispetto allo stesso periodo del "+a._s(a.lastYear)+" ")])],1)],1)])])},p=[],m=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card card-bg h-100 m-0 no-after",class:a.cardClass},[e("div",{staticClass:"card-body"},[a._t("default")],2)])},f=[],h={name:"CardWrapper",props:["cardClass"]},g=h,b=e("2877"),v=Object(b["a"])(g,m,f,!1,null,null,null),y=v.exports,_=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("span",[a._v(a._s(a.text))])},x=[],C=e("3835"),S=e("5530"),w=(e("96cf"),e("1da1")),j=e("e1a1"),O=e("5e9b"),k=e("2a83"),P=e("89c5"),z=(e("4fad"),e("87e7")),Y=e("75d9"),$=e("5961"),W=e("2761"),N={},K=Object(j["loader"])(),T=K.http;K.http=function(a,t){return null==N[a]&&(N[a]=T.call(this,a,t)),N[a]},z["b"].expressionInterpreter=O["a"],Object(j["formatLocale"])(Y),Object(j["timeFormatLocale"])($),Object(j["expressionFunction"])("entries",Object.entries);var F={actions:!1,config:Object(S["a"])(Object(S["a"])({},W),{},{header:Object(S["a"])(Object(S["a"])({},W.header),{},{title:null,labelOrient:"top",labelAnchor:"start",labelPadding:5}),axis:Object(S["a"])(Object(S["a"])({},W.axis),{},{title:null,tickCount:4}),legend:Object(S["a"])(Object(S["a"])({},W.legend),{},{title:null,orient:"top",labelLimit:0,layout:{right:{anchor:"middle"},top:{anchor:"middle"}}})}),loader:K,renderer:"svg",ast:!0},A=F;function M(a,t,e){if(a[t]==e)return a;if(null!=a.items){var r,n=null;for(r=0;null==n&&r<a.items.length;r++)n=M(a.items[r],t,e);return n}return null}function B(a){if(null==a.$schema)return{};var t=Object(P["a"])(a.$schema),e=t.library,r="vega-lite"===e?Object(k["compile"])(a).spec:a;return r}function D(a){var t=B(a);return new j["View"](Object(j["parse"])(t,void 0,{ast:!0}),Object(S["a"])(Object(S["a"])({},A),{},{expr:O["a"],renderer:"none"})).runAsync().then((function(a){var t=a.scenegraph();return t}))}function E(a,t,e){return D(a).then((function(a){return M(a.root,t,e)}))}function J(a){return E(a,"role","mark").then((function(a){return null!=a?a.items:[]}))}var L,R,V={name:"KpiSignal",props:["spec","yearSignal"],data:function(){return{view:null}},mounted:function(){var a=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e=B(a.spec),r=new j["View"](Object(j["parse"])(e,void 0,{ast:!0}),Object(S["a"])(Object(S["a"])({},A),{},{expr:O["a"],renderer:"none"})).runAsync(),t.next=4,r;case 4:a.view=t.sent;case 5:case"end":return t.stop()}}),t)})))()},computed:{text:function(){var a,t;if(null==this.view)return"";var e=this.view.scenegraph(),r=M(e.root,"role","mark").items||[];return null!==(a=null===(t=r[0])||void 0===t?void 0:t.text)&&void 0!==a?a:0},sync:function(){return[this.view,this.yearSignal]}},watch:{sync:{immediate:!0,handler:function(a){var t=Object(C["a"])(a,2),e=t[0],r=t[1];null!=e&&e.signal("year",r).runAsync()}}}},q=V,H=Object(b["a"])(q,_,x,!1,null,null,null),I=H.exports,U=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("span",[a._v(a._s(a.text))])},G=[],Z={name:"KpiWrapper",props:["spec"],data:function(){return{text:"#"}},mounted:function(){var a=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,J(a.spec);case 2:e=t.sent,a.text=e[0].text;case 4:case"end":return t.stop()}}),t)})))()}},Q=Z,X=Object(b["a"])(Q,U,G,!1,null,null,null),aa=X.exports,ta=e("1936"),ea=e("ebc0"),ra=e("d0b5"),na=e("575b"),ia=e("c8ea"),sa={name:"KpiSection",components:{CardWrapper:y,KpiSignal:I,KpiWrapper:aa},props:["selYear"],data:function(){return{curYear:(new Date).getFullYear(),eyCurKpiSpec:ta,ePredKpiSpec:ea,growthKpiSpec:ra,tyCurKpiSpec:na,tPredKpiSpec:ia}},computed:{lastYear:function(){return this.curYear-1},yearLabel:function(){return null==this.selYear?"dal 2016":"nel ".concat(this.selYear)}}},la=sa,oa=Object(b["a"])(la,d,p,!1,null,null,null),ca=oa.exports,ua=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("nav",[e("ul",{staticClass:"nav nav-tabs mb-3"},a._l(a.items,(function(t){return e("li",{key:t.id,staticClass:"nav-item"},[e("a",{staticClass:"nav-link",class:{active:a.itemCur===t.id},attrs:{role:"tab",href:"javascript:void(0)"},on:{click:function(e){a.itemCur=t.id}}},[a._v(a._s(t.label))])])})),0)])},da=[],pa={name:"TabsNav",props:["value","items"],emits:["input"],computed:{itemCur:{get:function(){return this.value},set:function(a){this.$emit("input",a)}}}},ma=pa,fa=(e("6c42"),Object(b["a"])(ma,ua,da,!1,null,"bafac72e",null)),ha=fa.exports,ga=function(){var a=this,t=a.$createElement,r=a._self._c||t;return r("section",[r("div",{staticClass:"row my-3"},[r("div",{staticClass:"col-md-6"},[r("CardWrapper",[r("h5",{staticClass:"font-weight-semibold"},[a._v("Confronto Top 10 enti creditori")]),r("p",{staticClass:"small"},[a._v("Numero di transazioni totali")]),r("ChartSignal",{attrs:{spec:a.topEcCompareSpec,"year-signal":a.selYear}})],1)],1),r("div",{staticClass:"col-md-6 mt-3 mt-md-0"},[r("CardWrapper",[r("h5",{staticClass:"font-weight-semibold"},[a._v("Confronto Top 10 PSP")]),r("p",{staticClass:"small"},[a._v(" Numero di transazioni totali "),r("span",{attrs:{tabindex:"0","data-toggle":"tooltip","data-original-title":"Transazioni gestite da pagoPA tramite il singolo Prestatore di Servizio di Pagamento, dalla sua adesione alla piattaforma."}},[r("svg",{staticClass:"icon icon-xs mb-1"},[r("use",{attrs:{href:e("4008")+"#it-info-circle"}})])])]),r("ChartSignal",{attrs:{spec:a.topPspCompareSpec,"year-signal":a.selYear}})],1)],1)])])},ba=[],va=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{ref:"chart-content",staticClass:"w-100 h-100",attrs:{id:"chart-content"}})},ya=[],_a={name:"ChartWrapper",props:["spec"],mounted:function(){var a=this;return Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(z["a"])(a.$refs["chart-content"],a.spec,A);case 2:a.chart=t.sent;case 3:case"end":return t.stop()}}),t)})))()}},xa=_a,Ca=Object(b["a"])(xa,va,ya,!1,null,null,null),Sa=Ca.exports,wa={props:["yearSignal"],data:function(){return{chart:null}},computed:{sync:function(){return[this.chart,this.yearSignal]}},watch:{sync:{immediate:!0,handler:function(a){var t=Object(C["a"])(a,2),e=t[0],r=t[1];null!=e&&e.view.signal("year",r).runAsync()}}}},ja={name:"ChartSignal",mixins:[wa],extends:Sa},Oa=ja,ka=Object(b["a"])(Oa,L,R,!1,null,null,null),Pa=ka.exports,za=e("0efd"),Ya=e("7562"),$a={name:"TopSection",components:{CardWrapper:y,ChartSignal:Pa},props:["selYear"],data:function(){return{topEcCompareSpec:za,topPspCompareSpec:Ya}}},Wa=$a,Na=Object(b["a"])(Wa,ga,ba,!1,null,null,null),Ka=Na.exports,Ta=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",[e("CardWrapper",{staticClass:"mb-3"},[e("h5",{staticClass:"font-weight-semibold"},[a._v("Transazioni mensili")]),e("p",{staticClass:"small"},[a._v(" Numero cumulativo di transazioni mensili gestite da pagoPA nel tempo ")]),e("div",{staticClass:"chart-wrapper"},[e("ChartSignal",{attrs:{spec:a.trxSeriesSpec,yearSignal:a.selYear}})],1)]),e("CardWrapper",{staticClass:"my-3"},[e("h5",{staticClass:"font-weight-semibold"},[a._v("Confronto transazioni")]),e("p",{staticClass:"small"},[a._v("Numero di transazioni gestite da pagoPA per periodo")]),e("div",{staticClass:"chart-wrapper"},[e("ChartSignal",{staticClass:"chart-wrapper",attrs:{spec:a.trxCompareSpec,yearSignal:a.selYear}})],1)])],1)},Fa=[],Aa=e("b045"),Ma=e("5f05"),Ba={name:"TrxSection",components:{CardWrapper:y,ChartSignal:Pa},props:["selYear"],data:function(){return{trxCompareSpec:Aa,trxSeriesSpec:Ma}}},Da=Ba,Ea=(e("9db5"),Object(b["a"])(Da,Ta,Fa,!1,null,"27547b1c",null)),Ja=Ea.exports,La=2019,Ra=(new Date).getFullYear(),Va=Ra-La+1,qa=Object(o["a"])(Array(Va).keys()).map((function(a){return Ra-a})).reverse(),Ha=[{id:null,label:"Totale"}].concat(qa.map((function(a){return{id:a,label:a}}))),Ia={name:"Home",components:{KpiSection:ca,TabsNav:ha,TopSection:Ka,TrxSection:Ja},data:function(){return{tabs:Ha,selYear:null}},mounted:function(){u()((function(){u()('[data-toggle="tooltip"]').tooltip()}))}},Ua=Ia,Ga=(e("83ec"),Object(b["a"])(Ua,s,l,!1,null,"6cda3067",null)),Za=Ga.exports,Qa={components:{Home:Za}},Xa=Qa,at=Object(b["a"])(Xa,n,i,!1,null,null,null),tt=at.exports,et=(e("3ed1"),e("9224"));r["a"].config.productionTip=!1,new r["a"]({render:function(a){return a(tt)}}).$mount("#app"),window.PDND_DATAVIZ_PAGOPA_VERSION=et["a"]},"575b":function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"trx"}},"params":[{"name":"year","value":null}],"transform":[{"fold":["n_trx_pos","n_trx_neg"]},{"calculate":"year(datum.date)","as":"year"},{"filter":"year == null || +datum.year === year"}],"mark":"text","encoding":{"text":{"field":"value","aggregate":"sum","format":",d"}}}')},"5f05":function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","width":"container","height":"container","params":[{"name":"year","value":null}],"data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"fold":["trx","forecastByMonth"]},{"flatten":["value"]},{"calculate":"datum.value.ds || datum.value.date","as":"Mese"},{"calculate":"datum.value.n_trx_pos && datum.value.n_trx_pos + datum.value.n_trx_neg","as":"transazioni"},{"calculate":"datum.value.yhat_upper","as":"stime ottimistiche"},{"calculate":"datum.value.yhat","as":"stime pessimistiche"},{"timeUnit":"yearmonth","field":"Mese","as":"Mese"},{"fold":["transazioni","stime ottimistiche","stime pessimistiche"]},{"filter":"datum.value != null"},{"window":[{"field":"value","op":"sum","as":"cumulative"}],"groupby":["key"]},{"joinaggregate":[{"field":"transazioni","op":"sum","as":"y_past"}]},{"calculate":"datum.key != \'transazioni\' ? datum.cumulative + datum.y_past : datum.cumulative","as":"cumulative"},{"filter":"year == null || year(toDate(datum.Mese)) <= year"}],"layer":[{"mark":{"type":"area"},"encoding":{"color":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#fff","#8BE3FB","#fff"]}}}},{"mark":{"type":"line","point":true},"encoding":{"color":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#fff","#8BE3FB","#fff"]}},"stroke":{"field":"key","sort":null,"scale":{"domain":["transazioni","stime ottimistiche","stime pessimistiche"],"range":["#0066cc","#15c5f8","#15c5f8"]}}}},{"transform":[{"calculate":"format(datum.cumulative, \',d\')","as":"cumulative_format"},{"pivot":"key","value":"cumulative_format","groupby":["Mese"],"op":"min"}],"mark":{"type":"area","tooltip":{"expr":"merge(datum, {Mese: timeFormat(datum.Mese, \'%B %Y\')})"},"color":"transparent"},"encoding":{"y":{"value":0},"y2":{"value":"height"}}}],"encoding":{"x":{"field":"Mese","type":"temporal","axis":{"tickCount":9}},"y":{"field":"cumulative","type":"quantitative","axis":{"format":"~s"},"stack":false}}}')},"6c42":function(a,t,e){"use strict";e("212f")},7562:function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"psp"}},"params":[{"name":"year","value":null}],"transform":[{"filter":"year == datum.year || year === +datum.year"}],"height":{"step":56},"width":"container","encoding":{"y":{"field":"psp","sort":{"field":"total","order":"descending","op":"sum"},"scale":{"padding":0},"axis":{"domain":false,"labelAlign":"left","labelLimit":0,"labelOffset":-20,"labelPadding":0,"ticks":false}}},"layer":[{"mark":{"type":"bar","height":19},"encoding":{"x":{"field":"total","type":"quantitative","aggregate":"sum","axis":{"format":"~s","gridDash":[21,35],"gridDashOffset":38}}}},{"mark":{"type":"bar","tooltip":true,"color":"transparent"},"encoding":{"tooltip":[{"field":"psp","title":"PSP"},{"field":"total","aggregate":"sum","title":"Transazioni","format":",d"}]}}]}')},8154:function(a,t,e){},"83ec":function(a,t,e){"use strict";e("ff7f")},9224:function(a){a.exports=JSON.parse('{"a":"1.1.0"}')},"9db5":function(a,t,e){"use strict";e("8154")},b045:function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json","format":{"property":"trx"}},"params":[{"name":"year","value":2016}],"transform":[{"calculate":"datum.n_trx_pos","as":"Positive"},{"calculate":"datum.n_trx_neg","as":"Negative"},{"fold":["Positive","Negative"]},{"calculate":"datum.date","as":"monthofyear"},{"timeUnit":"year","field":"monthofyear","as":"year"},{"timeUnit":"yearmonth","field":"monthofyear","as":"month"},{"filter":"year == null || year(datum.year) === year"},{"calculate":"datum.key + \' \' + (year || \'\')","as":"color_label"},{"calculate":"datum.key + \' \' + (10000 - year(datum.year))","as":"color_sort"},{"calculate":"year == null ? datum.year : datum.month","as":"time_period"}],"width":"container","height":"container","encoding":{"x":{"scale":{"padding":0}}},"layer":[{"mark":{"type":"bar","strokeWidth":2,"stroke":"#0066CC","width":{"band":0.8}},"encoding":{"x":{"field":"time_period","type":"temporal","axis":{"labelAngle":0,"labelAlign":"center"}},"y":{"field":"value","type":"quantitative","aggregate":"sum","axis":{"format":"~s"}},"fill":{"field":"color_label","type":"ordinal","sort":{"field":"color_sort","op":"min","order":"descending"},"scale":{"range":["#0066CC","#73B9FF"]}}}},{"transform":[{"aggregate":[{"field":"color_label","as":"color_label","op":"min"},{"field":"time_period","as":"time_period","op":"min"},{"field":"value","as":"total_value","op":"sum"}],"groupby":["color_label","time_period"]},{"calculate":"format(datum.total_value, \',d\')","as":"total_format"},{"calculate":"datum.time_period","as":"Periodo"},{"pivot":"color_label","value":"total_format","groupby":["Periodo"],"op":"min"}],"mark":{"type":"bar","fill":"transparent","tooltip":{"expr":"merge(datum, {Periodo: timeFormat(datum.Periodo, year == null ? \'%Y\' : \'%B %Y\')})"}},"encoding":{"x":{"field":"Periodo","type":"ordinal"}}}]}')},c8ea:function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"params":[{"name":"cur_year","expr":"year(now())"}],"transform":[{"flatten":["forecastByMonth","trx"]},{"calculate":"year(datum.trx.date)","as":"year"},{"calculate":"datum.year === cur_year","as":"in_year"},{"calculate":"datum.forecastByMonth ? datum.forecastByMonth.yhat_upper : null","as":"yhat_upper"},{"calculate":"datum.in_year ? datum.trx.n_trx_pos + datum.trx.n_trx_neg : 0","as":"n_trx_year"},{"aggregate":[{"field":"yhat_upper","op":"sum","as":"tyhat"},{"field":"n_trx_year","op":"sum","as":"tCur"}]},{"calculate":"datum.tCur + datum.tyhat","as":"tpred"}],"mark":"text","encoding":{"text":{"field":"tpred","format":",d"}}}')},d0b5:function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"transform":[{"calculate":"datum.growthRate / 100","as":"data"}],"mark":"text","encoding":{"text":{"field":"data","format":"+,.0%"}}}')},ebc0:function(a){a.exports=JSON.parse('{"$schema":"https://vega.github.io/schema/vega-lite/v5.json","data":{"url":"https://pdnd-prod-dl-1-public-data.s3.eu-central-1.amazonaws.com/dashboard/pagopa/dashboard-data.json"},"params":[{"name":"cur_year","expr":"year(now())"}],"transform":[{"flatten":["amount","forecastByMonth","trx"]},{"calculate":"year(datum.trx.date)","as":"trx_year"},{"calculate":"datum.amount && +datum.amount.year === cur_year","as":"is_amount_cur_year"},{"calculate":"datum.amount && +datum.amount.year === cur_year - 1","as":"is_amount_last_year"},{"calculate":"datum.trx_year === cur_year - 1","as":"is_trx_last_year"},{"calculate":"datum.forecastByMonth ? datum.forecastByMonth.yhat_upper : null","as":"yhat_upper"},{"calculate":"datum.is_amount_cur_year ? datum.amount.amount / 100 : null","as":"amount_cur_year"},{"calculate":"datum.is_amount_last_year ? datum.amount.amount / 100 : null","as":"amount_last_year"},{"calculate":"datum.is_trx_last_year ? datum.trx.n_trx_pos + datum.trx.n_trx_neg : null","as":"n_trx_last_year"},{"aggregate":[{"field":"yhat_upper","op":"sum","as":"tyhat"},{"field":"amount_last_year","op":"sum","as":"ePrev"},{"field":"amount_cur_year","op":"sum","as":"eCur"},{"field":"n_trx_last_year","op":"sum","as":"tPrev"}]},{"calculate":"((datum.ePrev / datum.tPrev) * datum.tyhat) + datum.eCur","as":"epred"}],"mark":"text","encoding":{"text":{"field":"epred","format":"$,d"}}}')},ff7f:function(a,t,e){}});